'use strict';
angular.module('rottentomatoes2App')
	.factory('movieFactory', ['$http','$routeParams',function($http, $routeParams){

		var factory = {};
			factory.data = {"movies":[{"id":"771357161","title":"Mission: Impossible Rogue Nation","year":2015,"mpaa_rating":"PG-13","runtime":132,"critics_consensus":"","release_dates":{"theater":"2015-07-31"},"ratings":{"critics_rating":"Certified Fresh","critics_score":92,"audience_rating":"Upright","audience_score":91},"synopsis":"With the IMF disbanded, and Ethan (Tom Cruise) out in the cold, the team now faces off against a network of highly skilled special agents, the Syndicate. These highly trained operatives are hellbent on creating a new world order through an escalating series of terrorist attacks. Ethan gathers his team and joins forces with disavowed British agent Ilsa Faust (Rebecca Ferguson), who may or may not be a member of this rogue nation, as the group faces their most impossible mission yet.","posters":{"thumbnail":"http://resizing.flixster.com/gbCU2qc5Edq9j-eJWBL9VN0BmZA=/52x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/07/11190760_ori.jpg","profile":"http://resizing.flixster.com/gbCU2qc5Edq9j-eJWBL9VN0BmZA=/52x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/07/11190760_ori.jpg","detailed":"http://resizing.flixster.com/gbCU2qc5Edq9j-eJWBL9VN0BmZA=/52x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/07/11190760_ori.jpg","original":"http://resizing.flixster.com/gbCU2qc5Edq9j-eJWBL9VN0BmZA=/52x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/07/11190760_ori.jpg"},"abridged_cast":[{"name":"Tom Cruise","id":"162652763","characters":["Ethan Hunt"]},{"name":"Jeremy Renner","id":"309973652","characters":["William Brandt"]},{"name":"Ving Rhames","id":"162693220","characters":["Luther Strickell"]},{"name":"Simon Pegg","id":"162684057","characters":["Benji"]},{"name":"Rebecca Ferguson","id":"771471104","characters":["Ilsa Faust"]}],"alternate_ids":{"imdb":"2381249"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771357161.json","alternate":"http://www.rottentomatoes.com/m/mission_impossible_rogue_nation/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771357161/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771357161/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771357161/similar.json"}},{"id":"771323153","title":"Fantastic Four","year":2015,"mpaa_rating":"PG-13","runtime":106,"critics_consensus":"","release_dates":{"theater":"2015-08-07"},"ratings":{"critics_rating":"Rotten","critics_score":8,"audience_rating":"Spilled","audience_score":22},"synopsis":"FANTASTIC FOUR, a contemporary re-imagining of Marvel's original and longest-running superhero team, centers on four young outsiders who teleport to an alternate and dangerous universe, which alters their physical form in shocking ways. Their lives irrevocably upended, the team must learn to harness their daunting new abilities and work together to save Earth from a former friend turned enemy. (C) Fox","posters":{"thumbnail":"http://resizing.flixster.com/yAThzK8nQejRcc_f-TP3Yp7KiD8=/54x80/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/11/11191141_ori.jpg","profile":"http://resizing.flixster.com/yAThzK8nQejRcc_f-TP3Yp7KiD8=/54x80/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/11/11191141_ori.jpg","detailed":"http://resizing.flixster.com/yAThzK8nQejRcc_f-TP3Yp7KiD8=/54x80/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/11/11191141_ori.jpg","original":"http://resizing.flixster.com/yAThzK8nQejRcc_f-TP3Yp7KiD8=/54x80/dkpu1ddg7pbsk.cloudfront.net/movie/11/19/11/11191141_ori.jpg"},"abridged_cast":[{"name":"Michael B. Jordan","id":"770683889","characters":["Johnny Storm/The Human Torch"]},{"name":"Kate Mara","id":"414200709","characters":["Sue Storm/The Invisible Woman"]},{"name":"Miles Teller","id":"771077409","characters":["Reed Richards/Mr. Fantastic"]},{"name":"Jamie Bell","id":"162653082","characters":["Ben Grimm/The Thing"]},{"name":"Toby Kebbell","id":"341816021","characters":["Victor Domashev/Doom"]}],"alternate_ids":{"imdb":"1502712"},"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/movies/771323153.json","alternate":"http://www.rottentomatoes.com/m/fantastic_four_2015/","cast":"http://api.rottentomatoes.com/api/public/v1.0/movies/771323153/cast.json","reviews":"http://api.rottentomatoes.com/api/public/v1.0/movies/771323153/reviews.json","similar":"http://api.rottentomatoes.com/api/public/v1.0/movies/771323153/similar.json"}}],"links":{"self":"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/box_office.json?limit=2&country=us","alternate":"http://www.rottentomatoes.com/movie/box-office/"},"link_template":"http://api.rottentomatoes.com/api/public/v1.0/lists/movies/box_office.json?limit={num-results}&country={country-code}"};
			factory.movie = {};
			//movies = [];

		factory.getMovies = function(){
			return factory.data.movies;//$http.get('http://localhost:9000/api/ajax.php');
		};

		factory.getMovie = function(){
			factory.data.movies.forEach(function(m){
				if(m.title === $routeParams.movieTitle){
					return m;
				}
			});

			return null;
		};

	}]);